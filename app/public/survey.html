<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
    <script src="https://code.jquery.com/jquery.js"></script>
    <title>Survey</title>
</head>

<body>
    <h1>Survey Questions</h1>
    <form action="app/data/friends.js" method="POST">
        <fieldset>
            <legend>About You:</legend>
            <h4>Name (Required)</h4>
            <input type="text" name="name" id="name">
            <h4>Link to Photo Image (Required)</h4>
            <input type="text" name="image" id="image">
        </fieldset>
        <fieldset>
            <legend>Questions:</legend>
            <h4>Question 1</h4>
            <select id="q1">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h4>Question 2</h4>
            <select id="q2">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h4>Question 3</h4>
            <select id="q3">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h4>Question 4</h4>
            <select id="q4">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h4>Question 5</h4>
            <select id="q5">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h4>Question 6</h4>
            <select id="q6">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h4>Question 7</h4>
            <select id="q7">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h4>Question 8</h4>
            <select id="q8">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h4>Question 9</h4>
            <select id="q9">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <h4>Question 10</h4>
            <select id="q10">
                <option value></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </fieldset>
        <fieldset>
            <button type="submit" id="submit">
                Submit
            </button>

        </fieldset>
    </form>
    <div class="row section">
        <div class="col">
            <!-- Modal Trigger -->
            <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Modal</a>
            <p>You have to include jQuery and Materialize JS + CSS for the modal to work. You can include it from
                <a href="http://materializecss.com/getting-started.html">CDN (getting started)</a>.
        </div>
    </div>
    <!-- Modal Structure -->
    <div id="modal1" class="modal">
        <div class="modal-content">
            <h4>Modal Header</h4>
            <p>A bunch of text</p>
        </div>
        <div class="modal-footer">
            <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
        </div>
    </div>
    <script type="text/javascript">
        $("#submit").on("click", function (event) {
            event.preventDefault();
            ('.modal-trigger').leanModal();
            var newFriend = {
                friendName: $("#name").val().trim(),
                friendImage: $("#image").val().trim(),
                scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(),]
            }

            $.post("/api/friends", newFriend, function (data) {
                console.log(data);

            });
        });
    </script>
</body>

</html>